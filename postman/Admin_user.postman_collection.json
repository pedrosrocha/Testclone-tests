{
	"info": {
		"_postman_id": "a936fb42-55f3-4c07-a35a-d157632c81ca",
		"name": "Admin user",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "11719085"
	},
	"item": [
		{
			"name": "preconditions",
			"item": [
				{
					"name": "login as admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", ()=>{\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"Admin successufully logged in\", ()=>{\r",
									"    let responseText = pm.response.text().toLowerCase()\r",
									"    pm.expect(responseText).\r",
									"        to.include(\"welcome, \" + pm.environment.get(\"admin_user\").toLowerCase() + \"!\");\r",
									"});\r",
									"\r",
									"\r",
									"pm.test(\"navbar items\", ()=>{\r",
									"    pm.expect(pm.response.text()).to.include(\"/Projects\");\r",
									"    pm.expect(pm.response.text()).to.include(\"/UsersManagement\");\r",
									"    pm.expect(pm.response.text()).to.include(\"/logout\");\r",
									"    pm.expect(pm.response.text()).to.include(\"/TestSpecification\");\r",
									"});\r",
									"\r",
									"\r",
									"\r",
									"\r",
									"\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "username",
									"value": "{{admin_user}}",
									"type": "text"
								},
								{
									"key": "password",
									"value": "{{admin_password}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{host}}login",
							"host": [
								"{{host}}login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Projects",
			"item": [
				{
					"name": "New project",
					"item": [
						{
							"name": "Create project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the projects page\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"project management system\");\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"let newProjectfound = false;\r",
											"$('select#project-selector-form option').each((index, element) => {\r",
											"    \r",
											"    const projectId = $(element).attr('value');\r",
											"    const selected = $(element).attr('selected');\r",
											"    const projectName = $(element).text().trim();\r",
											"\r",
											"\r",
											"\r",
											"    if (projectName=='test project'){\r",
											"        newProjectfound = true; \r",
											"\r",
											"        pm.environment.set(\"new_project_id\", projectId);\r",
											"\r",
											"        pm.test(\"New project must be selected in the dropdown list\", ()=>{\r",
											"            pm.expect(selected).to.equal(\"selected\");\r",
											"        })\r",
											"\r",
											"        return false;\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Verification: new test option was found in the HTML\", () => {\r",
											"    pm.expect(newProjectfound).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "project_name",
											"value": "test project",
											"type": "text"
										},
										{
											"key": "start_date",
											"value": "2025-11-10",
											"type": "text"
										},
										{
											"key": "end_date",
											"value": "2025-12-10",
											"type": "text"
										},
										{
											"key": "description",
											"value": "Validate if creating a projectr is possible",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}AddProject",
									"host": [
										"{{host}}AddProject"
									]
								}
							},
							"response": []
						},
						{
							"name": "Open project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the open project page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    pm.expect(responseText).to.include(\"Project Information\");\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Check project info\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"test project\");\r",
											"    pm.expect(responseText).to.include(\"2025-11-10\");\r",
											"    pm.expect(responseText).to.include(\"2025-12-10\");\r",
											"    pm.expect(responseText).to.include(\"Validate if creating a projectr is possible\");\r",
											"\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": []
								},
								"url": {
									"raw": "{{host}}OpenProject/{{new_project_id}}",
									"host": [
										"{{host}}OpenProject"
									],
									"path": [
										"{{new_project_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "SelectProject",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"project_id\": {{new_project_id}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}SelectProject",
									"host": [
										"{{host}}SelectProject"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the project page\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"project management system\");\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"let projectDeleted = true;\r",
											"$('select#project-selector-form option').each((index, element) => {\r",
											"    const projectName = $(element).text().trim();\r",
											"\r",
											"    if (projectName=='test project'){\r",
											"        projectDeleted = false; \r",
											"        return false;\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Verification: if the project was deleted\", () => {\r",
											"    pm.expect(projectDeleted).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "id",
											"value": "{{new_project_id}}",
											"type": "text"
										},
										{
											"key": "action",
											"value": "deletion",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}Projects",
									"host": [
										"{{host}}Projects"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Try duplicate project name",
					"item": [
						{
							"name": "Create project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the projects page\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"project management system\");\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"let newProjectfound = false;\r",
											"$('select#project-selector-form option').each((index, element) => {\r",
											"    \r",
											"    const projectId = $(element).attr('value');\r",
											"    const selected = $(element).attr('selected');\r",
											"    const projectName = $(element).text().trim();\r",
											"\r",
											"\r",
											"\r",
											"    if (projectName=='test project'){\r",
											"        newProjectfound = true; \r",
											"\r",
											"        pm.environment.set(\"new_project_id\", projectId);\r",
											"\r",
											"        pm.test(\"New project must be selected in the dropdown list\", ()=>{\r",
											"            pm.expect(selected).to.equal(\"selected\");\r",
											"        })\r",
											"\r",
											"        return false;\r",
											"    }\r",
											"});\r",
											"\r",
											"if (!newProjectfound){\r",
											"    pm.test(\"Verification: new test option was found in the HTML\", () => {\r",
											"        pm.expect(testProjectFound).to.equal(true);\r",
											"    });\r",
											"}\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "project_name",
											"value": "test project",
											"type": "text"
										},
										{
											"key": "start_date",
											"value": "2025-11-10",
											"type": "text"
										},
										{
											"key": "end_date",
											"value": "2025-12-10",
											"type": "text"
										},
										{
											"key": "description",
											"value": "Validate if creating a projectr is possible",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}AddProject",
									"host": [
										"{{host}}AddProject"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create project same name",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 409\", ()=>{\r",
											"    pm.response.to.have.status(409);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the projects page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"The project name must be unique!\");\r",
											"\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "project_name",
											"value": "test project",
											"type": "text"
										},
										{
											"key": "start_date",
											"value": "2025-11-10",
											"type": "text"
										},
										{
											"key": "end_date",
											"value": "2025-12-10",
											"type": "text"
										},
										{
											"key": "description",
											"value": "Validate if creating a projectr is possible",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}AddProject",
									"host": [
										"{{host}}AddProject"
									]
								}
							},
							"response": []
						},
						{
							"name": "Open project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the open project page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    pm.expect(responseText).to.include(\"Project Information\");\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Check project info\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"test project\");\r",
											"    pm.expect(responseText).to.include(\"2025-11-10\");\r",
											"    pm.expect(responseText).to.include(\"2025-12-10\");\r",
											"    pm.expect(responseText).to.include(\"Validate if creating a projectr is possible\");\r",
											"\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": []
								},
								"url": {
									"raw": "{{host}}OpenProject/{{new_project_id}}",
									"host": [
										"{{host}}OpenProject"
									],
									"path": [
										"{{new_project_id}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Check project list",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected project management\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    pm.expect(responseText).to.include(\"Project Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"let projectNameCounter = 0;\r",
											"//list all the project names\r",
											"$('tr td:nth-child(2) a').each((index, element) => {\r",
											"    const projectName = $(element).text().trim();\r",
											"    if (projectName == \"test project\") projectNameCounter++;\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Project was only created once\", () => {\r",
											"    \r",
											"    pm.expect(projectNameCounter).to.equal(1);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": []
								},
								"url": {
									"raw": "{{host}}Projects",
									"host": [
										"{{host}}Projects"
									]
								}
							},
							"response": []
						},
						{
							"name": "SelectProject",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"project_id\": {{new_project_id}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}SelectProject",
									"host": [
										"{{host}}SelectProject"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the project page\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"project management system\");\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"let projectDeleted = true;\r",
											"$('select#project-selector-form option').each((index, element) => {\r",
											"    const projectName = $(element).text().trim();\r",
											"\r",
											"    if (projectName=='test project'){\r",
											"        projectDeleted = false; \r",
											"        return false;\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Verification: if the project was deleted\", () => {\r",
											"    pm.expect(projectDeleted).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "id",
											"value": "{{new_project_id}}",
											"type": "text"
										},
										{
											"key": "action",
											"value": "deletion",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}Projects",
									"host": [
										"{{host}}Projects"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "New user logged in",
					"item": [
						{
							"name": "Create user",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let UserFound = false;\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"\r",
											"    if(username == test_username && email == test_email) {\r",
											"        const userId = $(columns[2]).find('input[name=\"id\"]').attr('value');\r",
											"        pm.environment.set(\"test_user_id\", userId);\r",
											"        UserFound = true;\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user is in the user list\", () => {\r",
											"    pm.expect(UserFound).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "username",
											"value": "{{test_username}}",
											"type": "text"
										},
										{
											"key": "password",
											"value": "{{admin_password}}",
											"type": "text"
										},
										{
											"key": "email",
											"value": "{{test_email}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}AddUserFromManager",
									"host": [
										"{{host}}AddUserFromManager"
									]
								}
							},
							"response": []
						},
						{
							"name": "Got to User management",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let UserFound = false;\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"    \r",
											"    if(username == test_username && email == test_email) {\r",
											"        UserFound = true;\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user is in the user list\", () => {\r",
											"    pm.expect(UserFound).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": []
								},
								"url": {
									"raw": "{{host}}UsersManagement",
									"host": [
										"{{host}}UsersManagement"
									]
								}
							},
							"response": []
						},
						{
							"name": "logout",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}logout",
									"host": [
										"{{host}}logout"
									]
								}
							},
							"response": []
						},
						{
							"name": "login as new user",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Admin successufully logged in\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    pm.expect(responseText).\r",
											"        to.include(\"welcome, \" + pm.environment.get(\"test_username\") + \"!\");\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"navbar items\", ()=>{\r",
											"    pm.expect(pm.response.text()).to.include(\"/Projects\");\r",
											"    pm.expect(pm.response.text()).to.include(\"/UsersManagement\");\r",
											"    pm.expect(pm.response.text()).to.include(\"/logout\");\r",
											"    pm.expect(pm.response.text()).to.include(\"/TestSpecification\");\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "username",
											"value": "{{test_username}}",
											"type": "text"
										},
										{
											"key": "password",
											"value": "{{admin_password}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}login",
									"host": [
										"{{host}}login"
									]
								}
							},
							"response": []
						},
						{
							"name": "logout II",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}logout",
									"host": [
										"{{host}}logout"
									]
								}
							},
							"response": []
						},
						{
							"name": "login as admin",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Admin successufully logged in\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    pm.expect(responseText).\r",
											"        to.include(\"welcome, \" + pm.environment.get(\"admin_user\").toLowerCase() + \"!\");\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"navbar items\", ()=>{\r",
											"    pm.expect(pm.response.text()).to.include(\"/Projects\");\r",
											"    pm.expect(pm.response.text()).to.include(\"/UsersManagement\");\r",
											"    pm.expect(pm.response.text()).to.include(\"/logout\");\r",
											"    pm.expect(pm.response.text()).to.include(\"/TestSpecification\");\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "username",
											"value": "{{admin_user}}",
											"type": "text"
										},
										{
											"key": "password",
											"value": "{{admin_password}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}login",
									"host": [
										"{{host}}login"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete user",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let UserFound = false;\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"\r",
											"    if(username == test_username && email == test_email) {\r",
											"        console.log(username);\r",
											"        console.log(email);\r",
											"        UserFound = true;\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user is not in the user list\", () => {\r",
											"    pm.expect(UserFound).to.equal(false);\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "action",
											"value": "deletion",
											"type": "text"
										},
										{
											"key": "id",
											"value": "{{test_user_id}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}UsersManagement",
									"host": [
										"{{host}}UsersManagement"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Change user level",
					"item": [
						{
							"name": "Create user",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let UserFound = false;\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"\r",
											"    if(username == test_username && email == test_email) {\r",
											"        UserFound = true;\r",
											"        const userId = $(columns[2]).find('input[name=\"id\"]').attr('value');\r",
											"        pm.environment.set(\"test_user_id\", userId);\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user is in the user list\", () => {\r",
											"    pm.expect(UserFound).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "username",
											"value": "{{test_username}}",
											"type": "text"
										},
										{
											"key": "password",
											"value": "{{admin_password}}",
											"type": "text"
										},
										{
											"key": "email",
											"value": "{{test_email}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}AddUserFromManager",
									"host": [
										"{{host}}AddUserFromManager"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change user level to editor",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let level = \"\";\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"\r",
											"    if(username == test_username && email == test_email) {\r",
											"        const dropdown = $(columns[2]).find(\"select[name=new_level]\")\r",
											"        level = $(dropdown).find(\"option[selected]\").attr(\"value\")\r",
											"\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user has the correct level\", () => {\r",
											"    pm.expect(level).to.equal(\"editor\");\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "action",
											"value": "change_level",
											"type": "text"
										},
										{
											"key": "id",
											"value": "{{test_user_id}}",
											"type": "text"
										},
										{
											"key": "new_level",
											"value": "editor",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}UsersManagement",
									"host": [
										"{{host}}UsersManagement"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change user level to admin",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let level = \"\";\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"\r",
											"    if(username == test_username && email == test_email) {\r",
											"        const dropdown = $(columns[2]).find(\"select[name=new_level]\")\r",
											"        level = $(dropdown).find(\"option[selected]\").attr(\"value\")\r",
											"\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user has the correct level\", () => {\r",
											"    pm.expect(level).to.equal(\"admin\");\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "action",
											"value": "change_level",
											"type": "text"
										},
										{
											"key": "id",
											"value": "{{test_user_id}}",
											"type": "text"
										},
										{
											"key": "new_level",
											"value": "admin",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}UsersManagement",
									"host": [
										"{{host}}UsersManagement"
									]
								}
							},
							"response": []
						},
						{
							"name": "Change user level to viewer",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let level = \"\";\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"\r",
											"    if(username == test_username && email == test_email) {\r",
											"        const dropdown = $(columns[2]).find(\"select[name=new_level]\")\r",
											"        level = $(dropdown).find(\"option[selected]\").attr(\"value\")\r",
											"\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user has the correct level\", () => {\r",
											"    pm.expect(level).to.equal(\"viewer\");\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "action",
											"value": "change_level",
											"type": "text"
										},
										{
											"key": "id",
											"value": "{{test_user_id}}",
											"type": "text"
										},
										{
											"key": "new_level",
											"value": "viewer",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}UsersManagement",
									"host": [
										"{{host}}UsersManagement"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete user",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the users page\", ()=>{\r",
											"    let responseText = pm.response.text()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"User Management System\");\r",
											"\r",
											"});\r",
											"\r",
											"const test_username = pm.environment.get(\"test_username\");\r",
											"const test_email= pm.environment.get(\"test_email\");\r",
											"let UserFound = false;\r",
											"$('table.table-hover tbody tr').each((index, row) => {\r",
											"    \r",
											"    \r",
											"    const columns = $(row).find('td');\r",
											"\r",
											"    const username = $(columns[0]).text();\r",
											"    const email = $(columns[1]).text();\r",
											"    \r",
											"\r",
											"    if(username == test_username && email == test_email) {\r",
											"        console.log(username);\r",
											"        console.log(email);\r",
											"        UserFound = true;\r",
											"    }\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"Validates if the user is not in the user list\", () => {\r",
											"    pm.expect(UserFound).to.equal(false);\r",
											"});\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "action",
											"value": "deletion",
											"type": "text"
										},
										{
											"key": "id",
											"value": "{{test_user_id}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}UsersManagement",
									"host": [
										"{{host}}UsersManagement"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Test specification",
			"item": [
				{
					"name": "Precondition",
					"item": [
						{
							"name": "Create project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the projects page\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"project management system\");\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"let testProjectFound = false;\r",
											"$('select#project-selector-form option').each((index, element) => {\r",
											"    \r",
											"    const projectId = $(element).attr('value');\r",
											"    const selected = $(element).attr('selected');\r",
											"    const projectName = $(element).text().trim();\r",
											"\r",
											"\r",
											"\r",
											"    if (projectName=='test project'){\r",
											"        newProjectfound = true; \r",
											"\r",
											"        pm.environment.set(\"new_project_id\", projectId);\r",
											"\r",
											"        pm.test(\"New project must be selected in the dropdown list\", ()=>{\r",
											"            pm.expect(selected).to.equal(\"selected\");\r",
											"        })\r",
											"\r",
											"        return false;\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Verification: new test option was found in the HTML\", () => {\r",
											"    pm.expect(testProjectFound).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "project_name",
											"value": "test project",
											"type": "text"
										},
										{
											"key": "start_date",
											"value": "2025-11-10",
											"type": "text"
										},
										{
											"key": "end_date",
											"value": "2025-12-10",
											"type": "text"
										},
										{
											"key": "description",
											"value": "Validate if creating a projectr is possible",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}AddProject",
									"host": [
										"{{host}}AddProject"
									]
								}
							},
							"response": []
						},
						{
							"name": "SelectProject",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"project_id\": {{new_project_id}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}SelectProject",
									"host": [
										"{{host}}SelectProject"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "createTest",
					"item": [
						{
							"name": "tree root",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const ajv = require('ajv')\r",
											"\r",
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"\r",
											"const schema = {\r",
											"    \"type\": \"object\",\r",
											"    \"properties\": {\r",
											"        \"children\": { \"type\": \"boolean\" },\r",
											"        \"id\": { \"type\": \"integer\" },\r",
											"        \"text\": { \"type\": \"string\" },\r",
											"        \"type\": { \"type\": \"string\" }\r",
											"    },\r",
											"    \"required\": [\"children\", \"id\", \"text\", \"type\"],\r",
											"        \"additionalProperties\": false\r",
											"};\r",
											"\r",
											"const arraySchema = {\r",
											"    \"type\": \"array\",\r",
											"    \"items\": schema,\r",
											"    \"minItems\": 1,\r",
											"    \"maxItems\": 1\r",
											"};\r",
											"\r",
											"\r",
											"pm.test(\"Response should match the defined JSON schema\", () => {\r",
											"        pm.response.to.have.jsonSchema(arraySchema);\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"The project should have the correct name\", ()=>{\r",
											"    pm.expect(pm.response.json()[0][\"text\"]).to.equal(\"test project\");\r",
											"});\r",
											"\r",
											"pm.test(\"The project should have the correct type\", ()=>{\r",
											"    pm.expect(pm.response.json()[0][\"type\"]).to.equal(\"suite\");\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{host}}get_test_tree_root",
									"host": [
										"{{host}}get_test_tree_root"
									]
								}
							},
							"response": []
						},
						{
							"name": "CreateSuite",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.test(\"Status code is 201\", ()=>{\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"\r",
											"pm.environment.set(\"new_suite_id\", pm.response.json()[\"id\"]);\r",
											"\r",
											"const schema = {\r",
											"    \"type\": \"object\",\r",
											"    \"properties\": {\r",
											"        \"id\": { \"type\": \"integer\" },\r",
											"        \"message\": { \"type\": \"string\" },\r",
											"        \"name\": { \"type\": \"string\" },\r",
											"        \"success\": { \"type\": \"boolean\" }\r",
											"    },\r",
											"    \"required\": [\"id\", \"message\", \"name\", \"success\"],\r",
											"    \"additionalProperties\": false\r",
											"};\r",
											"\r",
											"\r",
											"pm.test(\"Response should match the defined JSON schema\", () => {\r",
											"        pm.response.to.have.jsonSchema(schema);\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"The project should have the correct name\", ()=>{\r",
											"    pm.expect(pm.response.json()[\"name\"]).to.equal(\"test suite\");\r",
											"});\r",
											"\r",
											"pm.test(\"The project should have the right message\", ()=>{\r",
											"    pm.expect(pm.response.json()[\"message\"]).to.equal(\"suite added.\");\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"test suite\",\r\n    \"parent_id\": {{new_project_id}},\r\n    \"description\": \"test description\"\r\n}\r\n\r\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}add_suite",
									"host": [
										"{{host}}add_suite"
									]
								}
							},
							"response": []
						},
						{
							"name": "CreateTestcase",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.test(\"Status code is 201\", ()=>{\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"\r",
											"pm.environment.set(\"new_test_case_id\", pm.response.json()[\"id\"]);\r",
											"\r",
											"const schema = {\r",
											"    \"type\": \"object\",\r",
											"    \"properties\": {\r",
											"        \"id\": { \"type\": \"integer\" },\r",
											"        \"message\": { \"type\": \"string\" },\r",
											"        \"name\": { \"type\": \"string\" },\r",
											"        \"success\": { \"type\": \"boolean\" }\r",
											"    },\r",
											"    \"required\": [\"id\", \"message\", \"name\", \"success\"],\r",
											"    \"additionalProperties\": false\r",
											"};\r",
											"\r",
											"\r",
											"pm.test(\"Response should match the defined JSON schema\", () => {\r",
											"        pm.response.to.have.jsonSchema(schema);\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"The project should have the correct name\", ()=>{\r",
											"    pm.expect(pm.response.json()[\"name\"]).to.equal(\"test test case\");\r",
											"});\r",
											"\r",
											"pm.test(\"The project should have the right message\", ()=>{\r",
											"    pm.expect(pm.response.json()[\"message\"]).to.equal(\"Test case added sucessfuly\");\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"test test case\",\r\n    \"parent_id\": {{new_suite_id}},\r\n    \"description\": \"test description\",\r\n    \"status\": \"draft\",\r\n    \"priority\": \"low\"\r\n}\r\n\r\n",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}add_test_case",
									"host": [
										"{{host}}add_test_case"
									]
								}
							},
							"response": []
						},
						{
							"name": "tree children",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"const schema = {\r",
											"    \"type\": \"object\",\r",
											"    \"properties\": {\r",
											"        \"children\": { \"type\": \"boolean\" },\r",
											"        \"id\": { \"type\": \"string\" },\r",
											"        \"text\": { \"type\": \"string\" },\r",
											"        \"type\": { \"type\": \"string\" }\r",
											"    },\r",
											"    \"required\": [\"children\", \"id\", \"text\", \"type\"],\r",
											"    \"additionalProperties\": false\r",
											"};\r",
											"\r",
											"const arraySchema = {\r",
											"    \"type\": \"array\",\r",
											"    \"items\": schema,\r",
											"};\r",
											"\r",
											"pm.test(\"Response should match the defined JSON schema\", () => {\r",
											"        pm.response.to.have.jsonSchema(arraySchema);\r",
											"\r",
											"});\r",
											"\r",
											"const testID = pm.environment.get(\"new_test_case_id\");\r",
											"\r",
											"pm.response.json().each((test)=>{\r",
											"    if(test.id == (\"c_\" + testID)){\r",
											"        pm.test(\"The test case must have the right type\", ()=>{\r",
											"            pm.expect(test.type).to.equal(\"test\");\r",
											"        });\r",
											"\r",
											"        pm.test(\"The name of the test must formatted correctly\", ()=>{\r",
											"            pm.expect(test.text).to.equal(testID+\":\"+\"test test case\");\r",
											"        });\r",
											"    }\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "apikey",
									"apikey": [
										{
											"key": "in",
											"value": "header",
											"type": "string"
										},
										{
											"key": "key",
											"value": "x-api-key",
											"type": "string"
										},
										{
											"key": "value",
											"value": "reqres-free-v1",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "username",
											"value": "test",
											"type": "text"
										},
										{
											"key": "password",
											"value": "password",
											"type": "text"
										},
										{
											"key": "email",
											"value": "test@email",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}get_test_tree_children?id={{new_suite_id}}",
									"host": [
										"{{host}}get_test_tree_children"
									],
									"query": [
										{
											"key": "id",
											"value": "{{new_suite_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Test",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"let tesID = pm.environment.get(\"new_test_case_id\");\r",
											"tesID = tesID.substr(3, tesID.length -3 -1)\r",
											"pm.environment.set(\"new_test_case_id\", tesID);\r",
											"\r",
											"const schema = {\r",
											"    \"type\": \"object\",\r",
											"    \"properties\": {\r",
											"        \"message\": { \"type\": \"string\" },\r",
											"        \"success\": { \"type\": \"boolean\" }\r",
											"    },\r",
											"    \"required\": [\"message\", \"success\"],\r",
											"    \"additionalProperties\": false\r",
											"};\r",
											"\r",
											"\r",
											"pm.test(\"Response should match the defined JSON schema\", () => {\r",
											"        pm.response.to.have.jsonSchema(schema);\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"The project should have the correct message\", ()=>{\r",
											"\r",
											"    pm.expect(pm.response.json()[\"message\"]).to.equal(\"Test case \" + tesID + \" deleted successfuly. \");\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const tesID = pm.environment.get(\"new_test_case_id\");\r",
											"\r",
											"pm.environment.set(\"new_test_case_id\", '\\\"c_' +tesID + '\\\"');"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"id\": {{new_test_case_id}},\r\n    \"type\": \"test\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}delete_node",
									"host": [
										"{{host}}delete_node"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Suite",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"let suiteID = pm.environment.get(\"new_suite_id\");\r",
											"\r",
											"const schema = {\r",
											"    \"type\": \"object\",\r",
											"    \"properties\": {\r",
											"        \"message\": { \"type\": \"string\" },\r",
											"        \"success\": { \"type\": \"boolean\" }\r",
											"    },\r",
											"    \"required\": [\"message\", \"success\"],\r",
											"    \"additionalProperties\": false\r",
											"};\r",
											"\r",
											"\r",
											"pm.test(\"Response should match the defined JSON schema\", () => {\r",
											"        pm.response.to.have.jsonSchema(schema);\r",
											"\r",
											"});\r",
											"\r",
											"pm.test(\"The project should have the correct message\", ()=>{\r",
											"\r",
											"    pm.expect(pm.response.json()[\"message\"]).to.equal(\"suite \" + suiteID + \" deleted successfuly\");\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"id\": {{new_suite_id}},\r\n    \"type\": \"suite\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{host}}delete_node",
									"host": [
										"{{host}}delete_node"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "posconditions",
					"item": [
						{
							"name": "Delete project",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const $ = require('cheerio').load(pm.response.text());\r",
											"\r",
											"pm.test(\"Status code is 200\", ()=>{\r",
											"    pm.response.to.have.status(200);\r",
											"\r",
											"    //the code automaticaly reads the projects to update the dropdpwn, hence the 200 code\r",
											"});\r",
											"\r",
											"pm.test(\"Redirected to the project page\", ()=>{\r",
											"    let responseText = pm.response.text().toLowerCase()\r",
											"    \r",
											"    pm.expect(responseText).to.include(\"project management system\");\r",
											"\r",
											"});\r",
											"\r",
											"\r",
											"let projectDeleted = true;\r",
											"$('select#project-selector-form option').each((index, element) => {\r",
											"    const projectName = $(element).text().trim();\r",
											"\r",
											"    if (projectName=='test project'){\r",
											"        projectDeleted = false; \r",
											"        return false;\r",
											"    }\r",
											"});\r",
											"\r",
											"\r",
											"pm.test(\"Verification: if the project was deleted\", () => {\r",
											"    pm.expect(projectDeleted).to.equal(true);\r",
											"});\r",
											"\r",
											"\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "id",
											"value": "{{new_project_id}}",
											"type": "text"
										},
										{
											"key": "action",
											"value": "deletion",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{host}}Projects",
									"host": [
										"{{host}}Projects"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "posconditions",
			"item": [
				{
					"name": "logout",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{host}}logout",
							"host": [
								"{{host}}logout"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	]
}